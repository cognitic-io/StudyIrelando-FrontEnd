{"ast":null,"code":"import _classCallCheck from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/src/pages/categories/CategoryAdd.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport CategoryForm from \"./Form/CategoryForm\";\nimport CategoryService from \"../../services/CategoryService\";\n\nvar CategoryAdd =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CategoryAdd, _Component);\n\n  function CategoryAdd(props) {\n    var _this;\n\n    _classCallCheck(this, CategoryAdd);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoryAdd).call(this, props));\n    _this.state = {\n      user: getLoggedInUser(),\n      icon: \"\",\n      name: \"\",\n      isFetching: false,\n      error: null,\n      successMsg: null\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CategoryAdd, [{\n    key: \"handleSubmit\",\n    value: function handleSubmit(value) {\n      var _this2 = this;\n\n      var name = value.name,\n          icon = value.icon;\n      if (!name) return false;\n      if (!icon) return false;\n      var token = this.state.user.token;\n      this.setState({\n        isFetching: true,\n        error: null,\n        successMsg: null\n      });\n      var category = {\n        name: name,\n        icon: icon\n      };\n      CategoryService.addCategory(category, token).then(function (response) {\n        if (response.status === true) {\n          var message = \"Category was successfully inserted.\";\n\n          _this2.setState({\n            successMsg: message,\n            isFetching: false\n          });\n        } else {\n          _this2.setState({\n            error: \"Erro!\",\n            isFetching: false,\n            successMsg: false\n          });\n        }\n      }).catch(function (error) {\n        _this2.setState({\n          error: error.message,\n          isFetching: false,\n          successMsg: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, this.props.loading && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, \"Create category\")), React.createElement(Col, {\n        lg: 5,\n        className: \"mt-lg-3 mt-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }), React.createElement(Col, {\n        lg: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(CategoryForm, {\n        add: true,\n        handleSubmit: this.handleSubmit,\n        error: this.state.error,\n        successMsg: this.state.successMsg,\n        isFetching: this.state.isFetching,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      })), React.createElement(Col, {\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return CategoryAdd;\n}(Component);\n\nexport default connect()(CategoryAdd);","map":{"version":3,"sources":["/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/src/pages/categories/CategoryAdd.js"],"names":["React","Component","connect","Row","Col","Card","CardBody","getLoggedInUser","Loader","CategoryForm","CategoryService","CategoryAdd","props","state","user","icon","name","isFetching","error","successMsg","handleSubmit","bind","value","token","setState","category","addCategory","then","response","status","message","catch","loading"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\n\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport CategoryForm from \"./Form/CategoryForm\";\n\nimport CategoryService from \"../../services/CategoryService\";\n\nclass CategoryAdd extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: getLoggedInUser(),\n      icon: \"\",\n      name: \"\",\n      isFetching: false,\n      error: null,\n      successMsg: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleSubmit(value) {\n    const { name, icon } = value;\n\n    if (!name) return false;\n    if (!icon) return false;\n\n    const { token } = this.state.user;\n\n    this.setState({\n      isFetching: true,\n      error: null,\n      successMsg: null\n    });\n\n    let category = {\n      name,\n      icon\n    };\n\n    CategoryService.addCategory(category, token)\n      .then(response => {\n        if (response.status === true) {\n          let message = \"Category was successfully inserted.\";\n          this.setState({ successMsg: message, isFetching: false });\n        } else {\n          this.setState({\n            error: \"Erro!\",\n            isFetching: false,\n            successMsg: false\n          });\n        }\n      })\n      .catch(error => {\n        this.setState({\n          error: error.message,\n          isFetching: false,\n          successMsg: false\n        });\n      });\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <div className=\"category\">\n          {this.props.loading && <Loader />}\n          <Row>\n            <Col>\n              <div className=\"page-title-box\">\n                <Row>\n                  <Col lg={7}>\n                    <h4 className=\"page-title\">Create category</h4>\n                  </Col>\n                  <Col lg={5} className=\"mt-lg-3 mt-md-0\"></Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <Col lg={12}>\n              <Card>\n                <CardBody>\n                  <Row>\n                    <Col lg={3} />\n                    <Col lg={6}>\n                      <CategoryForm\n                        add={true}\n                        handleSubmit={this.handleSubmit}\n                        error={this.state.error}\n                        successMsg={this.state.successMsg}\n                        isFetching={this.state.isFetching}\n                      />\n                    </Col>\n                    <Col lg={3} />\n                  </Row>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(CategoryAdd);\n"]},"metadata":{},"sourceType":"module"}