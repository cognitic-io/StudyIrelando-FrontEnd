{"ast":null,"code":"import _classCallCheck from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/src/pages/service-type/ServiceTypeContainer.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport ServiceTypeService from \"../../services/ServiceTypeService\";\nimport ServiceTypesList from \"./List/ServiceTypeList\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\n\nvar ServiceTypeContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ServiceTypeContainer, _Component);\n\n  function ServiceTypeContainer(props) {\n    var _this;\n\n    _classCallCheck(this, ServiceTypeContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ServiceTypeContainer).call(this, props));\n\n    _this.hideAlert = function () {\n      // console.log(\"Hiding alert...\");\n      _this.setState({\n        alert: null\n      });\n    };\n\n    _this.deleteFile = function () {\n      var id = _this.state.id;\n      var token = _this.state.user.token;\n      ServiceTypeService.deleteServiceType(token, id).then(function (res) {\n        _this.getServiceTypes();\n      }).catch(function (err) {\n        _this.getServiceTypes();\n\n        alert(\"Something wrong happen when we tried to remove this Service Type.\");\n      });\n\n      _this.setState({\n        alert: React.createElement(SweetAlert, {\n          success: true,\n          title: \"Deletado\",\n          onConfirm: _this.hideAlert,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        }, \"Success to remove the Service Type\"),\n        id: \"\"\n      });\n    };\n\n    _this.onCancelDelete = function () {\n      _this.setState({\n        alert: React.createElement(SweetAlert, {\n          danger: true,\n          title: \"Cancelado\",\n          onConfirm: _this.hideAlert,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 94\n          },\n          __self: this\n        }, \"Service type is still available\")\n      });\n    };\n\n    _this.state = {\n      user: getLoggedInUser(),\n      serviceTypes: []\n    };\n    _this.deleteThisGoal = _this.deleteThisGoal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ServiceTypeContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getServiceTypes();\n    }\n  }, {\n    key: \"getServiceTypes\",\n    value: function getServiceTypes() {\n      var _this2 = this;\n\n      var token = this.state.user.token;\n      ServiceTypeService.getServiceTypes(token).then(function (response) {\n        _this2.setState({\n          serviceTypes: response.result\n        });\n      }).catch(function (error) {\n        return _this2.setState({\n          error: error\n        });\n      });\n    } //delete service type\n\n  }, {\n    key: \"deleteThisGoal\",\n    value: function deleteThisGoal(id) {\n      var _this3 = this;\n\n      var getAlert = function getAlert() {\n        return React.createElement(SweetAlert, {\n          warning: true,\n          showCancel: true,\n          confirmBtnText: \"Would you like to remove this Service Type?\",\n          cancelBtnText: \"Cancel\",\n          confirmBtnBsStyle: \"danger\",\n          cancelBtnBsStyle: \"default\",\n          title: \"Are you sure that you want to remove this Service Type?\",\n          onConfirm: _this3.deleteFile,\n          onCancel: _this3.onCancelDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        });\n      };\n\n      this.setState({\n        alert: getAlert(),\n        id: id\n      });\n    }\n  }, {\n    key: \"onConfirmModal\",\n    value: function onConfirmModal(id) {\n      this.deleteFile(id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var serviceTypes = this.state.serviceTypes;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"service-types\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, this.props.loading && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, \"Welcome, \", this.state.user.firstName)), React.createElement(Col, {\n        lg: 5,\n        className: \"mt-lg-3 mt-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"Service Types\")), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(ServiceTypesList, {\n        serviceTypes: serviceTypes,\n        deleteServiceType: this.deleteThisGoal,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }))))), this.state.alert));\n    }\n  }]);\n\n  return ServiceTypeContainer;\n}(Component);\n\nexport default connect()(ServiceTypeContainer);","map":{"version":3,"sources":["/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/src/pages/service-type/ServiceTypeContainer.js"],"names":["React","Component","connect","Row","Col","Card","CardBody","getLoggedInUser","Loader","ServiceTypeService","ServiceTypesList","SweetAlert","ServiceTypeContainer","props","hideAlert","setState","alert","deleteFile","id","state","token","user","deleteServiceType","then","res","getServiceTypes","catch","err","onCancelDelete","serviceTypes","deleteThisGoal","bind","response","result","error","getAlert","loading","firstName"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\n\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\n\nimport ServiceTypeService from \"../../services/ServiceTypeService\";\nimport ServiceTypesList from \"./List/ServiceTypeList\";\n\nimport SweetAlert from \"react-bootstrap-sweetalert\";\n\nclass ServiceTypeContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: getLoggedInUser(),\n      serviceTypes: []\n    };\n    this.deleteThisGoal = this.deleteThisGoal.bind(this);\n  }\n\n  componentDidMount() {\n    this.getServiceTypes();\n  }\n\n  getServiceTypes() {\n    const { token } = this.state.user;\n    ServiceTypeService.getServiceTypes(token)\n      .then(response => {\n        this.setState({ serviceTypes: response.result });\n      })\n      .catch(error => this.setState({ error }));\n  }\n\n  //delete service type\n  deleteThisGoal(id) {\n    const getAlert = () => (\n      <SweetAlert\n        warning\n        showCancel\n        confirmBtnText=\"Would you like to remove this Service Type?\"\n        cancelBtnText=\"Cancel\"\n        confirmBtnBsStyle=\"danger\"\n        cancelBtnBsStyle=\"default\"\n        title=\"Are you sure that you want to remove this Service Type?\"\n        onConfirm={this.deleteFile}\n        onCancel={this.onCancelDelete}\n      >\n        {/* Você não  */}\n      </SweetAlert>\n    );\n\n    this.setState({\n      alert: getAlert(),\n      id: id\n    });\n  }\n\n  hideAlert = () => {\n    // console.log(\"Hiding alert...\");\n    this.setState({\n      alert: null\n    });\n  };\n\n  deleteFile = () => {\n    let id = this.state.id;\n    const { token } = this.state.user;\n\n    ServiceTypeService.deleteServiceType(token, id)\n      .then(res => {\n        this.getServiceTypes();\n      })\n      .catch(err => {\n        this.getServiceTypes();\n        alert(\n          \"Something wrong happen when we tried to remove this Service Type.\"\n        );\n      });\n    this.setState({\n      alert: (\n        <SweetAlert success title=\"Deletado\" onConfirm={this.hideAlert}>\n          Success to remove the Service Type\n        </SweetAlert>\n      ),\n      id: \"\"\n    });\n  };\n\n  onCancelDelete = () => {\n    this.setState({\n      alert: (\n        <SweetAlert danger title=\"Cancelado\" onConfirm={this.hideAlert}>\n          Service type is still available\n        </SweetAlert>\n      )\n    });\n  };\n\n  onConfirmModal(id) {\n    this.deleteFile(id);\n  }\n\n  render() {\n    const { serviceTypes } = this.state;\n    return (\n      <React.Fragment>\n        <div className=\"service-types\">\n          {this.props.loading && <Loader />}\n          <Row>\n            <Col>\n              <div className=\"page-title-box\">\n                <Row>\n                  <Col lg={7}>\n                    <h4 className=\"page-title\">\n                      Welcome, {this.state.user.firstName}\n                    </h4>\n                  </Col>\n                  <Col lg={5} className=\"mt-lg-3 mt-md-0\"></Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <Col lg={12}>\n              <Card>\n                <CardBody>\n                  <h3>Service Types</h3>\n                </CardBody>\n                <Row>\n                  <ServiceTypesList\n                    serviceTypes={serviceTypes}\n                    deleteServiceType={this.deleteThisGoal}\n                  />\n                </Row>\n              </Card>\n            </Col>\n          </Row>\n          {this.state.alert}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(ServiceTypeContainer);\n"]},"metadata":{},"sourceType":"module"}