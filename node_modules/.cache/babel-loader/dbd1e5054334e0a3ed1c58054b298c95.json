{"ast":null,"code":"import _classCallCheck from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/src/pages/categories/CategoryContainer.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport CategoryService from \"../../services/CategoryService\";\nimport CategoryList from \"./List/CategoryList\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\n\nvar CategoryContainer =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CategoryContainer, _Component);\n\n  function CategoryContainer(props) {\n    var _this;\n\n    _classCallCheck(this, CategoryContainer);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoryContainer).call(this, props));\n\n    _this.hideAlert = function () {\n      // console.log(\"Hiding alert...\");\n      _this.setState({\n        alert: null\n      });\n    };\n\n    _this.deleteFile = function () {\n      var id = _this.state.id;\n      var token = _this.state.user.token;\n      CategoryService.deleteCategory(token, id).then(function (res) {\n        _this.getCategories();\n      }).catch(function (err) {\n        _this.getCategories();\n\n        alert(\"Something wrong happen when we tried to remove this category.\");\n      });\n\n      _this.setState({\n        alert: React.createElement(SweetAlert, {\n          success: true,\n          title: \"Deleted\",\n          onConfirm: _this.hideAlert,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 82\n          },\n          __self: this\n        }, \"Success to remove the Category\"),\n        id: \"\"\n      });\n    };\n\n    _this.onCancelDelete = function () {\n      _this.setState({\n        alert: React.createElement(SweetAlert, {\n          danger: true,\n          title: \"Cancelled\",\n          onConfirm: _this.hideAlert,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 93\n          },\n          __self: this\n        }, \"Category is still available\")\n      });\n    };\n\n    _this.updateCategory = function (id) {\n      var _id = id;\n      var token = _this.state.user.token;\n      var service = {\n        _id: _id,\n        status: true\n      };\n      CategoryService.updateStatusService(token, service).then(function (res) {\n        _this.getCategories();\n      }).catch(function (err) {\n        _this.getCategories();\n      });\n    };\n\n    _this.state = {\n      user: getLoggedInUser(),\n      categories: []\n    };\n    _this.deleteThisGoal = _this.deleteThisGoal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.updateCategory = _this.updateCategory.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CategoryContainer, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getCategories();\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      var _this2 = this;\n\n      var token = this.state.user.token;\n      CategoryService.getCategories(token).then(function (response) {\n        _this2.setState({\n          categories: response.result\n        });\n      }).catch(function (error) {\n        return _this2.setState({\n          error: error\n        });\n      });\n    } //delete category\n\n  }, {\n    key: \"deleteThisGoal\",\n    value: function deleteThisGoal(id) {\n      var _this3 = this;\n\n      var getAlert = function getAlert() {\n        return React.createElement(SweetAlert, {\n          warning: true,\n          showCancel: true,\n          confirmBtnText: \"Would you like to remove this Category?\",\n          cancelBtnText: \"Cancel\",\n          confirmBtnBsStyle: \"danger\",\n          cancelBtnBsStyle: \"default\",\n          title: \"Are you sure that you want to remove this category?\",\n          onConfirm: _this3.deleteFile,\n          onCancel: _this3.onCancelDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        });\n      };\n\n      this.setState({\n        alert: getAlert(),\n        id: id\n      });\n    }\n  }, {\n    key: \"onConfirmModal\",\n    value: function onConfirmModal(id) {\n      this.deleteFile(id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var categories = this.state.categories;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, this.props.loading && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Welcome, \", this.state.user.firstName)), React.createElement(Col, {\n        lg: 5,\n        className: \"mt-lg-3 mt-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, \"Categories\")), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(CategoryList, {\n        categories: categories,\n        deleteCategory: this.deleteThisGoal,\n        updateCategory: this.updateCategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }))))), this.state.alert));\n    }\n  }]);\n\n  return CategoryContainer;\n}(Component);\n\nexport default connect()(CategoryContainer);","map":{"version":3,"sources":["/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/src/pages/categories/CategoryContainer.js"],"names":["React","Component","connect","Row","Col","Card","CardBody","getLoggedInUser","Loader","CategoryService","CategoryList","SweetAlert","CategoryContainer","props","hideAlert","setState","alert","deleteFile","id","state","token","user","deleteCategory","then","res","getCategories","catch","err","onCancelDelete","updateCategory","_id","service","status","updateStatusService","categories","deleteThisGoal","bind","response","result","error","getAlert","loading","firstName"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\n\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\n\nimport CategoryService from \"../../services/CategoryService\";\nimport CategoryList from \"./List/CategoryList\";\n\nimport SweetAlert from \"react-bootstrap-sweetalert\";\n\nclass CategoryContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: getLoggedInUser(),\n      categories: []\n    };\n    this.deleteThisGoal = this.deleteThisGoal.bind(this);\n    this.updateCategory = this.updateCategory.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCategories();\n  }\n\n  getCategories() {\n    const { token } = this.state.user;\n    CategoryService.getCategories(token)\n      .then(response => {\n        this.setState({ categories: response.result });\n      })\n      .catch(error => this.setState({ error }));\n  }\n\n  //delete category\n  deleteThisGoal(id) {\n    const getAlert = () => (\n      <SweetAlert\n        warning\n        showCancel\n        confirmBtnText=\"Would you like to remove this Category?\"\n        cancelBtnText=\"Cancel\"\n        confirmBtnBsStyle=\"danger\"\n        cancelBtnBsStyle=\"default\"\n        title=\"Are you sure that you want to remove this category?\"\n        onConfirm={this.deleteFile}\n        onCancel={this.onCancelDelete}\n      >\n        {/* Você não  */}\n      </SweetAlert>\n    );\n\n    this.setState({\n      alert: getAlert(),\n      id: id\n    });\n  }\n\n  hideAlert = () => {\n    // console.log(\"Hiding alert...\");\n    this.setState({\n      alert: null\n    });\n  };\n\n  deleteFile = () => {\n    let id = this.state.id;\n    const { token } = this.state.user;\n\n    CategoryService.deleteCategory(token, id)\n      .then(res => {\n        this.getCategories();\n      })\n      .catch(err => {\n        this.getCategories();\n        alert(\"Something wrong happen when we tried to remove this category.\");\n      });\n    this.setState({\n      alert: (\n        <SweetAlert success title=\"Deleted\" onConfirm={this.hideAlert}>\n          Success to remove the Category\n        </SweetAlert>\n      ),\n      id: \"\"\n    });\n  };\n\n  onCancelDelete = () => {\n    this.setState({\n      alert: (\n        <SweetAlert danger title=\"Cancelled\" onConfirm={this.hideAlert}>\n          Category is still available\n        </SweetAlert>\n      )\n    });\n  };\n\n  onConfirmModal(id) {\n    this.deleteFile(id);\n  }\n\n  updateCategory = id => {\n    let _id = id;\n    const { token } = this.state.user;\n\n    let service = {\n      _id,\n      status: true\n    };\n\n    CategoryService.updateStatusService(token, service)\n      .then(res => {\n        this.getCategories();\n      })\n      .catch(err => {\n        this.getCategories();\n      });\n  };\n\n  render() {\n    const { categories } = this.state;\n    return (\n      <React.Fragment>\n        <div className=\"category\">\n          {/* preloader */}\n          {this.props.loading && <Loader />}\n          <Row>\n            <Col>\n              <div className=\"page-title-box\">\n                <Row>\n                  <Col lg={7}>\n                    <h4 className=\"page-title\">\n                      Welcome, {this.state.user.firstName}\n                    </h4>\n                  </Col>\n                  <Col lg={5} className=\"mt-lg-3 mt-md-0\"></Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <Col lg={12}>\n              <Card>\n                <CardBody>\n                  <h3>Categories</h3>\n                </CardBody>\n                <Row>\n                  <CategoryList\n                    categories={categories}\n                    deleteCategory={this.deleteThisGoal}\n                    updateCategory={this.updateCategory}\n                  />\n                </Row>\n              </Card>\n            </Col>\n          </Row>\n          {this.state.alert}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(CategoryContainer);\n"]},"metadata":{},"sourceType":"module"}