{"ast":null,"code":"import _classCallCheck from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/src/pages/categories/CategoryPendings.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport CategoryService from \"../../services/CategoryService\";\nimport CategoryList from \"./List/CategoryList\";\nimport SweetAlert from \"react-bootstrap-sweetalert\";\n\nvar CategoryPendings =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CategoryPendings, _Component);\n\n  function CategoryPendings(props) {\n    var _this;\n\n    _classCallCheck(this, CategoryPendings);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoryPendings).call(this, props));\n\n    _this.hideAlert = function () {\n      // console.log(\"Hiding alert...\");\n      _this.setState({\n        alert: null\n      });\n    };\n\n    _this.deleteFile = function () {\n      var id = _this.state.id;\n      var token = _this.state.user.token;\n      CategoryService.deleteCategory(token, id).then(function (res) {\n        _this.getCategories();\n      }).catch(function (err) {\n        _this.getCategories();\n\n        alert(\"Something wrong happen when we tried to decline this category.\");\n      });\n\n      _this.setState({\n        alert: React.createElement(SweetAlert, {\n          success: true,\n          title: \"Declined\",\n          onConfirm: _this.hideAlert,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }, \"Success to decline the Category\"),\n        id: \"\"\n      });\n    };\n\n    _this.onCancelDelete = function () {\n      _this.setState({\n        alert: React.createElement(SweetAlert, {\n          danger: true,\n          title: \"Cancelled\",\n          onConfirm: _this.hideAlert,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 92\n          },\n          __self: this\n        }, \"Category is still available to accept\")\n      });\n    };\n\n    _this.declineCategory = function (id) {\n      var token = _this.state.user.token;\n      CategoryService.decline(token, id).then(function (res) {\n        _this.getCategories();\n      }).catch(function (err) {\n        _this.getCategories();\n      });\n    };\n\n    _this.acceptCategory = function (id) {\n      var token = _this.state.user.token;\n      CategoryService.accept(token, id).then(function (res) {\n        _this.getCategories();\n      }).catch(function (err) {\n        _this.getCategories();\n      });\n    };\n\n    _this.state = {\n      user: getLoggedInUser(),\n      categories: []\n    };\n    _this.deleteThisGoal = _this.deleteThisGoal.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CategoryPendings, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getCategories();\n    }\n  }, {\n    key: \"getCategories\",\n    value: function getCategories() {\n      var _this2 = this;\n\n      var token = this.state.user.token;\n      CategoryService.getRequestCategories(token).then(function (response) {\n        _this2.setState({\n          categories: response.result\n        });\n      }).catch(function (error) {\n        return _this2.setState({\n          error: error\n        });\n      });\n    } //delete category\n\n  }, {\n    key: \"deleteThisGoal\",\n    value: function deleteThisGoal(id) {\n      var _this3 = this;\n\n      var getAlert = function getAlert() {\n        return React.createElement(SweetAlert, {\n          warning: true,\n          showCancel: true,\n          confirmBtnText: \"Would you like to decline this Category?\",\n          cancelBtnText: \"Cancel\",\n          confirmBtnBsStyle: \"danger\",\n          cancelBtnBsStyle: \"default\",\n          title: \"Are you sure that you want to decline this category?\",\n          onConfirm: _this3.deleteFile,\n          onCancel: _this3.onCancelDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39\n          },\n          __self: this\n        });\n      };\n\n      this.setState({\n        alert: getAlert(),\n        id: id\n      });\n    }\n  }, {\n    key: \"onConfirmModal\",\n    value: function onConfirmModal(id) {\n      this.deleteFile(id);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var categories = this.state.categories;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, this.props.loading && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 137\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, \"Welcome, \", this.state.user.firstName)), React.createElement(Col, {\n        lg: 5,\n        className: \"mt-lg-3 mt-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Categories pendings\")), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }, React.createElement(CategoryList, {\n        categories: categories,\n        deleteCategory: this.deleteThisGoal,\n        pending: true,\n        declineCategory: this.declineCategory,\n        acceptCategory: this.acceptCategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }))))), this.state.alert));\n    }\n  }]);\n\n  return CategoryPendings;\n}(Component);\n\nexport default connect()(CategoryPendings);","map":{"version":3,"sources":["/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/src/pages/categories/CategoryPendings.js"],"names":["React","Component","connect","Row","Col","Card","CardBody","getLoggedInUser","Loader","CategoryService","CategoryList","SweetAlert","CategoryPendings","props","hideAlert","setState","alert","deleteFile","id","state","token","user","deleteCategory","then","res","getCategories","catch","err","onCancelDelete","declineCategory","decline","acceptCategory","accept","categories","deleteThisGoal","bind","getRequestCategories","response","result","error","getAlert","loading","firstName"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\n\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\n\nimport CategoryService from \"../../services/CategoryService\";\nimport CategoryList from \"./List/CategoryList\";\n\nimport SweetAlert from \"react-bootstrap-sweetalert\";\n\nclass CategoryPendings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: getLoggedInUser(),\n      categories: []\n    };\n    this.deleteThisGoal = this.deleteThisGoal.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCategories();\n  }\n\n  getCategories() {\n    const { token } = this.state.user;\n    CategoryService.getRequestCategories(token)\n      .then(response => {\n        this.setState({ categories: response.result });\n      })\n      .catch(error => this.setState({ error }));\n  }\n\n  //delete category\n  deleteThisGoal(id) {\n    const getAlert = () => (\n      <SweetAlert\n        warning\n        showCancel\n        confirmBtnText=\"Would you like to decline this Category?\"\n        cancelBtnText=\"Cancel\"\n        confirmBtnBsStyle=\"danger\"\n        cancelBtnBsStyle=\"default\"\n        title=\"Are you sure that you want to decline this category?\"\n        onConfirm={this.deleteFile}\n        onCancel={this.onCancelDelete}\n      >\n        {/* Você não  */}\n      </SweetAlert>\n    );\n\n    this.setState({\n      alert: getAlert(),\n      id: id\n    });\n  }\n\n  hideAlert = () => {\n    // console.log(\"Hiding alert...\");\n    this.setState({\n      alert: null\n    });\n  };\n\n  deleteFile = () => {\n    let id = this.state.id;\n    const { token } = this.state.user;\n\n    CategoryService.deleteCategory(token, id)\n      .then(res => {\n        this.getCategories();\n      })\n      .catch(err => {\n        this.getCategories();\n        alert(\"Something wrong happen when we tried to decline this category.\");\n      });\n    this.setState({\n      alert: (\n        <SweetAlert success title=\"Declined\" onConfirm={this.hideAlert}>\n          Success to decline the Category\n        </SweetAlert>\n      ),\n      id: \"\"\n    });\n  };\n\n  onCancelDelete = () => {\n    this.setState({\n      alert: (\n        <SweetAlert danger title=\"Cancelled\" onConfirm={this.hideAlert}>\n          Category is still available to accept\n        </SweetAlert>\n      )\n    });\n  };\n\n  onConfirmModal(id) {\n    this.deleteFile(id);\n  }\n\n  declineCategory = id => {\n    const { token } = this.state.user;\n\n    CategoryService.decline(token, id)\n      .then(res => {\n        this.getCategories();\n      })\n      .catch(err => {\n        this.getCategories();\n      });\n  };\n\n  acceptCategory = id => {\n    const { token } = this.state.user;\n\n    CategoryService.accept(token, id)\n      .then(res => {\n        this.getCategories();\n      })\n      .catch(err => {\n        this.getCategories();\n      });\n  };\n\n  render() {\n    const { categories } = this.state;\n    return (\n      <React.Fragment>\n        <div className=\"category\">\n          {/* preloader */}\n          {this.props.loading && <Loader />}\n          <Row>\n            <Col>\n              <div className=\"page-title-box\">\n                <Row>\n                  <Col lg={7}>\n                    <h4 className=\"page-title\">\n                      Welcome, {this.state.user.firstName}\n                    </h4>\n                  </Col>\n                  <Col lg={5} className=\"mt-lg-3 mt-md-0\"></Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <Col lg={12}>\n              <Card>\n                <CardBody>\n                  <h3>Categories pendings</h3>\n                </CardBody>\n                <Row>\n                  <CategoryList\n                    categories={categories}\n                    deleteCategory={this.deleteThisGoal}\n                    pending={true}\n                    declineCategory={this.declineCategory}\n                    acceptCategory={this.acceptCategory}\n                  />\n                </Row>\n              </Card>\n            </Col>\n          </Row>\n          {this.state.alert}\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(CategoryPendings);\n"]},"metadata":{},"sourceType":"module"}