{"ast":null,"code":"import _classCallCheck from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/src/pages/categories/CategoryEdit.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport CategoryForm from \"./Form/CategoryForm\";\nimport CategoryService from \"../../services/CategoryService\";\nimport SubCategoryService from \"../../services/SubCategoryService\";\nvar id = \"\";\n\nvar CategoryEdit =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CategoryEdit, _Component);\n\n  function CategoryEdit(_ref) {\n    var _this;\n\n    var match = _ref.match,\n        props = _ref.props;\n\n    _classCallCheck(this, CategoryEdit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CategoryEdit).call(this, props));\n\n    _this.addSubCategory = function (value) {\n      var name = value.name,\n          icon = value.icon; // const { id } = this.props;\n\n      var token = _this.state.user.token;\n\n      _this.setState({\n        isFetchingSub: true,\n        errorSub: null,\n        successMsgSub: null\n      });\n\n      var subcategory = {\n        name: name,\n        icon: icon\n      };\n      SubCategoryService.addSubCategory(id, subcategory, token).then(function (response) {\n        if (response.status === true) {\n          var message = \"SubCategory was successfully inserted.\";\n\n          _this.setState({\n            successMsgSub: message,\n            isFetchingSub: false\n          });\n\n          _this.getSubCategoriesById();\n        } else {\n          _this.setState({\n            errorSub: \"Error\",\n            isFetchingSub: false,\n            successMsgSub: false\n          });\n        }\n      }).catch(function (error) {\n        // console.log(error);\n        _this.setState({\n          errorSub: \"Error\",\n          isFetchingSub: false,\n          successMsgSub: false\n        });\n      });\n    };\n\n    _this.state = {\n      user: getLoggedInUser(),\n      icon: \"\",\n      name: \"\",\n      subcategories: [],\n      isFetching: false,\n      error: null,\n      successMsg: null,\n      isFetchingSub: false,\n      errorSub: null,\n      successMsgSub: null\n    };\n    id = match.params.id;\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getSubCategoriesById = _this.getSubCategoriesById.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(CategoryEdit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getCategory();\n      this.getSubCategoriesById();\n    }\n  }, {\n    key: \"getCategory\",\n    value: function getCategory() {\n      var _this2 = this;\n\n      var token = this.state.user.token;\n      CategoryService.getCategory(id, token).then(function (response) {\n        _this2.setState({\n          name: response.data.name,\n          icon: response.data.icon\n        });\n      }).catch(function (error) {\n        _this2.setState({\n          error: error,\n          isFetching: false\n        });\n      });\n    }\n  }, {\n    key: \"getSubCategoriesById\",\n    value: function getSubCategoriesById() {\n      var _this3 = this;\n\n      var token = this.state.user.token;\n      SubCategoryService.getSubCategoriesById(id, token).then(function (response) {\n        _this3.setState({\n          subcategories: response.data.result\n        });\n      }).catch(function (error) {\n        _this3.setState({\n          error: error,\n          isFetching: false\n        });\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(value) {\n      var _this4 = this;\n\n      var name = value.name,\n          icon = value.icon;\n      if (!name) return false;\n      if (!icon) return false;\n      this.setState({\n        name: name,\n        icon: icon,\n        isFetching: true,\n        error: null,\n        successMsg: null\n      });\n      var token = this.state.user.token;\n      var category = {\n        name: name,\n        icon: icon,\n        _id: id\n      };\n      CategoryService.updateCategory(category, token).then(function (response) {\n        if (response.status === true) {\n          var message = \" Success to update the Category.\";\n\n          _this4.setState({\n            successMsg: message,\n            isFetching: false\n          });\n        } else {\n          _this4.setState({\n            error: \"Erro\",\n            isFetching: false,\n            successMsg: false\n          });\n        }\n      }).catch(function (error) {\n        _this4.setState({\n          error: error,\n          isFetching: false,\n          successMsg: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          name = _this$state.name,\n          icon = _this$state.icon,\n          subcategories = _this$state.subcategories;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"category\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, this.props.loading && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, \"Edit category\")), React.createElement(Col, {\n        lg: 5,\n        className: \"mt-lg-3 mt-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      }))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }), React.createElement(Col, {\n        lg: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, React.createElement(CategoryForm, {\n        edit: true,\n        handleSubmit: this.handleSubmit,\n        error: this.state.error,\n        successMsg: this.state.successMsg,\n        isFetching: this.state.isFetching,\n        name: name,\n        icon: icon,\n        id: id,\n        subcategories: subcategories,\n        addSubCategory: this.addSubCategory,\n        getSubCategories: this.getSubCategoriesById,\n        errorSub: this.state.errorSub,\n        successMsgSub: this.state.successMsgSub,\n        isFetchingSub: this.state.isFetchingSub,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })), React.createElement(Col, {\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return CategoryEdit;\n}(Component);\n\nexport default connect()(CategoryEdit);","map":{"version":3,"sources":["/Users/Raian/Documents/raian-dev/Vegan-FrontEnd/src/pages/categories/CategoryEdit.js"],"names":["React","Component","connect","Row","Col","Card","CardBody","getLoggedInUser","Loader","CategoryForm","CategoryService","SubCategoryService","id","CategoryEdit","match","props","addSubCategory","value","name","icon","token","state","user","setState","isFetchingSub","errorSub","successMsgSub","subcategory","then","response","status","message","getSubCategoriesById","catch","error","subcategories","isFetching","successMsg","params","handleSubmit","bind","getCategory","data","result","category","_id","updateCategory","loading"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,QAAzB,QAAyC,YAAzC;AAEA,SAASC,eAAT,QAAgC,yBAAhC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AAEA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,kBAAP,MAA+B,mCAA/B;AAEA,IAAIC,EAAE,GAAG,EAAT;;IAEMC,Y;;;;;AACJ,8BAA8B;AAAA;;AAAA,QAAhBC,KAAgB,QAAhBA,KAAgB;AAAA,QAATC,KAAS,QAATA,KAAS;;AAAA;;AAC5B,sFAAMA,KAAN;;AAD4B,UAsF9BC,cAtF8B,GAsFb,UAAAC,KAAK,EAAI;AAAA,UAChBC,IADgB,GACDD,KADC,CAChBC,IADgB;AAAA,UACVC,IADU,GACDF,KADC,CACVE,IADU,EAExB;;AAFwB,UAGhBC,KAHgB,GAGN,MAAKC,KAAL,CAAWC,IAHL,CAGhBF,KAHgB;;AAKxB,YAAKG,QAAL,CAAc;AACZC,QAAAA,aAAa,EAAE,IADH;AAEZC,QAAAA,QAAQ,EAAE,IAFE;AAGZC,QAAAA,aAAa,EAAE;AAHH,OAAd;;AAMA,UAAIC,WAAW,GAAG;AAChBT,QAAAA,IAAI,EAAJA,IADgB;AAEhBC,QAAAA,IAAI,EAAJA;AAFgB,OAAlB;AAKAR,MAAAA,kBAAkB,CAACK,cAAnB,CAAkCJ,EAAlC,EAAsCe,WAAtC,EAAmDP,KAAnD,EACGQ,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,YAAIA,QAAQ,CAACC,MAAT,KAAoB,IAAxB,EAA8B;AAC5B,cAAIC,OAAO,GAAG,wCAAd;;AACA,gBAAKR,QAAL,CAAc;AAAEG,YAAAA,aAAa,EAAEK,OAAjB;AAA0BP,YAAAA,aAAa,EAAE;AAAzC,WAAd;;AACA,gBAAKQ,oBAAL;AACD,SAJD,MAIO;AACL,gBAAKT,QAAL,CAAc;AACZE,YAAAA,QAAQ,EAAE,OADE;AAEZD,YAAAA,aAAa,EAAE,KAFH;AAGZE,YAAAA,aAAa,EAAE;AAHH,WAAd;AAKD;AACF,OAbH,EAcGO,KAdH,CAcS,UAAAC,KAAK,EAAI;AACd;AACA,cAAKX,QAAL,CAAc;AACZE,UAAAA,QAAQ,EAAE,OADE;AAEZD,UAAAA,aAAa,EAAE,KAFH;AAGZE,UAAAA,aAAa,EAAE;AAHH,SAAd;AAKD,OArBH;AAsBD,KA5H6B;;AAE5B,UAAKL,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAEf,eAAe,EADV;AAEXY,MAAAA,IAAI,EAAE,EAFK;AAGXD,MAAAA,IAAI,EAAE,EAHK;AAIXiB,MAAAA,aAAa,EAAE,EAJJ;AAKXC,MAAAA,UAAU,EAAE,KALD;AAMXF,MAAAA,KAAK,EAAE,IANI;AAOXG,MAAAA,UAAU,EAAE,IAPD;AAQXb,MAAAA,aAAa,EAAE,KARJ;AASXC,MAAAA,QAAQ,EAAE,IATC;AAUXC,MAAAA,aAAa,EAAE;AAVJ,KAAb;AAYAd,IAAAA,EAAE,GAAGE,KAAK,CAACwB,MAAN,CAAa1B,EAAlB;AACA,UAAK2B,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKR,oBAAL,GAA4B,MAAKA,oBAAL,CAA0BQ,IAA1B,uDAA5B;AAhB4B;AAiB7B;;;;wCAEmB;AAClB,WAAKC,WAAL;AACA,WAAKT,oBAAL;AACD;;;kCAEa;AAAA;;AAAA,UACJZ,KADI,GACM,KAAKC,KAAL,CAAWC,IADjB,CACJF,KADI;AAEZV,MAAAA,eAAe,CAAC+B,WAAhB,CAA4B7B,EAA5B,EAAgCQ,KAAhC,EACGQ,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,QAAA,MAAI,CAACN,QAAL,CAAc;AAAEL,UAAAA,IAAI,EAAEW,QAAQ,CAACa,IAAT,CAAcxB,IAAtB;AAA4BC,UAAAA,IAAI,EAAEU,QAAQ,CAACa,IAAT,CAAcvB;AAAhD,SAAd;AACD,OAHH,EAIGc,KAJH,CAIS,UAAAC,KAAK,EAAI;AACd,QAAA,MAAI,CAACX,QAAL,CAAc;AAAEW,UAAAA,KAAK,EAAEA,KAAT;AAAgBE,UAAAA,UAAU,EAAE;AAA5B,SAAd;AACD,OANH;AAOD;;;2CAEsB;AAAA;;AAAA,UACbhB,KADa,GACH,KAAKC,KAAL,CAAWC,IADR,CACbF,KADa;AAErBT,MAAAA,kBAAkB,CAACqB,oBAAnB,CAAwCpB,EAAxC,EAA4CQ,KAA5C,EACGQ,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,QAAA,MAAI,CAACN,QAAL,CAAc;AAAEY,UAAAA,aAAa,EAAEN,QAAQ,CAACa,IAAT,CAAcC;AAA/B,SAAd;AACD,OAHH,EAIGV,KAJH,CAIS,UAAAC,KAAK,EAAI;AACd,QAAA,MAAI,CAACX,QAAL,CAAc;AAAEW,UAAAA,KAAK,EAAEA,KAAT;AAAgBE,UAAAA,UAAU,EAAE;AAA5B,SAAd;AACD,OANH;AAOD;;;iCAEYnB,K,EAAO;AAAA;;AAAA,UACVC,IADU,GACKD,KADL,CACVC,IADU;AAAA,UACJC,IADI,GACKF,KADL,CACJE,IADI;AAGlB,UAAI,CAACD,IAAL,EAAW,OAAO,KAAP;AACX,UAAI,CAACC,IAAL,EAAW,OAAO,KAAP;AAEX,WAAKI,QAAL,CAAc;AACZL,QAAAA,IAAI,EAAJA,IADY;AAEZC,QAAAA,IAAI,EAAJA,IAFY;AAGZiB,QAAAA,UAAU,EAAE,IAHA;AAIZF,QAAAA,KAAK,EAAE,IAJK;AAKZG,QAAAA,UAAU,EAAE;AALA,OAAd;AANkB,UAcVjB,KAdU,GAcA,KAAKC,KAAL,CAAWC,IAdX,CAcVF,KAdU;AAgBlB,UAAIwB,QAAQ,GAAG;AACb1B,QAAAA,IAAI,EAAJA,IADa;AAEbC,QAAAA,IAAI,EAAJA,IAFa;AAGb0B,QAAAA,GAAG,EAAEjC;AAHQ,OAAf;AAMAF,MAAAA,eAAe,CAACoC,cAAhB,CAA+BF,QAA/B,EAAyCxB,KAAzC,EACGQ,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,YAAIA,QAAQ,CAACC,MAAT,KAAoB,IAAxB,EAA8B;AAC5B,cAAIC,OAAO,GAAG,kCAAd;;AACA,UAAA,MAAI,CAACR,QAAL,CAAc;AAAEc,YAAAA,UAAU,EAAEN,OAAd;AAAuBK,YAAAA,UAAU,EAAE;AAAnC,WAAd;AACD,SAHD,MAGO;AACL,UAAA,MAAI,CAACb,QAAL,CAAc;AACZW,YAAAA,KAAK,EAAE,MADK;AAEZE,YAAAA,UAAU,EAAE,KAFA;AAGZC,YAAAA,UAAU,EAAE;AAHA,WAAd;AAKD;AACF,OAZH,EAaGJ,KAbH,CAaS,UAAAC,KAAK,EAAI;AACd,QAAA,MAAI,CAACX,QAAL,CAAc;AAAEW,UAAAA,KAAK,EAAEA,KAAT;AAAgBE,UAAAA,UAAU,EAAE,KAA5B;AAAmCC,UAAAA,UAAU,EAAE;AAA/C,SAAd;AACD,OAfH;AAgBD;;;6BA0CQ;AAAA,wBAC+B,KAAKhB,KADpC;AAAA,UACCH,IADD,eACCA,IADD;AAAA,UACOC,IADP,eACOA,IADP;AAAA,UACagB,aADb,eACaA,aADb;AAEP,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKpB,KAAL,CAAWgC,OAAX,IAAsB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADzB,EAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,EAIE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAY,QAAA,SAAS,EAAC,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF,CADF,CADF,CAFF,EAcE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AACE,QAAA,IAAI,EAAE,IADR;AAEE,QAAA,YAAY,EAAE,KAAKR,YAFrB;AAGE,QAAA,KAAK,EAAE,KAAKlB,KAAL,CAAWa,KAHpB;AAIE,QAAA,UAAU,EAAE,KAAKb,KAAL,CAAWgB,UAJzB;AAKE,QAAA,UAAU,EAAE,KAAKhB,KAAL,CAAWe,UALzB;AAME,QAAA,IAAI,EAAElB,IANR;AAOE,QAAA,IAAI,EAAEC,IAPR;AAQE,QAAA,EAAE,EAAEP,EARN;AASE,QAAA,aAAa,EAAEuB,aATjB;AAUE,QAAA,cAAc,EAAE,KAAKnB,cAVvB;AAWE,QAAA,gBAAgB,EAAE,KAAKgB,oBAXzB;AAYE,QAAA,QAAQ,EAAE,KAAKX,KAAL,CAAWI,QAZvB;AAaE,QAAA,aAAa,EAAE,KAAKJ,KAAL,CAAWK,aAb5B;AAcE,QAAA,aAAa,EAAE,KAAKL,KAAL,CAAWG,aAd5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,EAoBE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBF,CADF,CADF,CADF,CADF,CAdF,CADF,CADF;AAiDD;;;;EAlLwBvB,S;;AAqL3B,eAAeC,OAAO,GAAGW,YAAH,CAAtB","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\n\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport CategoryForm from \"./Form/CategoryForm\";\n\nimport CategoryService from \"../../services/CategoryService\";\nimport SubCategoryService from \"../../services/SubCategoryService\";\n\nlet id = \"\";\n\nclass CategoryEdit extends Component {\n  constructor({ match, props }) {\n    super(props);\n    this.state = {\n      user: getLoggedInUser(),\n      icon: \"\",\n      name: \"\",\n      subcategories: [],\n      isFetching: false,\n      error: null,\n      successMsg: null,\n      isFetchingSub: false,\n      errorSub: null,\n      successMsgSub: null\n    };\n    id = match.params.id;\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getSubCategoriesById = this.getSubCategoriesById.bind(this);\n  }\n\n  componentDidMount() {\n    this.getCategory();\n    this.getSubCategoriesById();\n  }\n\n  getCategory() {\n    const { token } = this.state.user;\n    CategoryService.getCategory(id, token)\n      .then(response => {\n        this.setState({ name: response.data.name, icon: response.data.icon });\n      })\n      .catch(error => {\n        this.setState({ error: error, isFetching: false });\n      });\n  }\n\n  getSubCategoriesById() {\n    const { token } = this.state.user;\n    SubCategoryService.getSubCategoriesById(id, token)\n      .then(response => {\n        this.setState({ subcategories: response.data.result });\n      })\n      .catch(error => {\n        this.setState({ error: error, isFetching: false });\n      });\n  }\n\n  handleSubmit(value) {\n    const { name, icon } = value;\n\n    if (!name) return false;\n    if (!icon) return false;\n\n    this.setState({\n      name,\n      icon,\n      isFetching: true,\n      error: null,\n      successMsg: null\n    });\n\n    const { token } = this.state.user;\n\n    let category = {\n      name,\n      icon,\n      _id: id\n    };\n\n    CategoryService.updateCategory(category, token)\n      .then(response => {\n        if (response.status === true) {\n          let message = \" Success to update the Category.\";\n          this.setState({ successMsg: message, isFetching: false });\n        } else {\n          this.setState({\n            error: \"Erro\",\n            isFetching: false,\n            successMsg: false\n          });\n        }\n      })\n      .catch(error => {\n        this.setState({ error: error, isFetching: false, successMsg: false });\n      });\n  }\n\n  addSubCategory = value => {\n    const { name, icon } = value;\n    // const { id } = this.props;\n    const { token } = this.state.user;\n\n    this.setState({\n      isFetchingSub: true,\n      errorSub: null,\n      successMsgSub: null\n    });\n\n    let subcategory = {\n      name,\n      icon\n    };\n\n    SubCategoryService.addSubCategory(id, subcategory, token)\n      .then(response => {\n        if (response.status === true) {\n          let message = \"SubCategory was successfully inserted.\";\n          this.setState({ successMsgSub: message, isFetchingSub: false });\n          this.getSubCategoriesById();\n        } else {\n          this.setState({\n            errorSub: \"Error\",\n            isFetchingSub: false,\n            successMsgSub: false\n          });\n        }\n      })\n      .catch(error => {\n        // console.log(error);\n        this.setState({\n          errorSub: \"Error\",\n          isFetchingSub: false,\n          successMsgSub: false\n        });\n      });\n  };\n\n  render() {\n    const { name, icon, subcategories } = this.state;\n    return (\n      <React.Fragment>\n        <div className=\"category\">\n          {this.props.loading && <Loader />}\n          <Row>\n            <Col>\n              <div className=\"page-title-box\">\n                <Row>\n                  <Col lg={7}>\n                    <h4 className=\"page-title\">Edit category</h4>\n                  </Col>\n                  <Col lg={5} className=\"mt-lg-3 mt-md-0\"></Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <Col lg={12}>\n              <Card>\n                <CardBody>\n                  <Row>\n                    <Col lg={3} />\n                    <Col lg={6}>\n                      <CategoryForm\n                        edit={true}\n                        handleSubmit={this.handleSubmit}\n                        error={this.state.error}\n                        successMsg={this.state.successMsg}\n                        isFetching={this.state.isFetching}\n                        name={name}\n                        icon={icon}\n                        id={id}\n                        subcategories={subcategories}\n                        addSubCategory={this.addSubCategory}\n                        getSubCategories={this.getSubCategoriesById}\n                        errorSub={this.state.errorSub}\n                        successMsgSub={this.state.successMsgSub}\n                        isFetchingSub={this.state.isFetchingSub}\n                      />\n                    </Col>\n                    <Col lg={3} />\n                  </Row>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(CategoryEdit);\n"]},"metadata":{},"sourceType":"module"}