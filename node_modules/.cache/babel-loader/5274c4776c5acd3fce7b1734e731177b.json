{"ast":null,"code":"import _classCallCheck from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/src/pages/service/ServiceAdd.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport ServiceForm from \"./Form/ServiceForm\";\nimport ServiceItemService from \"../../services/ServiceItemService\";\n\nvar ServiceAdd =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ServiceAdd, _Component);\n\n  function ServiceAdd(props) {\n    var _this;\n\n    _classCallCheck(this, ServiceAdd);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ServiceAdd).call(this, props));\n    _this.state = {\n      user: getLoggedInUser(),\n      _id: \"\",\n      title: \"\",\n      phone: \"\",\n      typeServiceId: \"\",\n      address: \"\",\n      opened: [{\n        day: \"MON\",\n        hours: \"08:00 - 18:00\"\n      }, {\n        day: \"TUE\",\n        hours: \"08:00 - 18:00\"\n      }, {\n        day: \"WED\",\n        hours: \"08:00 - 18:00\"\n      }, {\n        day: \"THU\",\n        hours: \"08:00 - 18:00\"\n      }, {\n        day: \"FRI\",\n        hours: \"08:00 - 18:00\"\n      }, {\n        day: \"SAT\",\n        hours: \"08:00 - 18:00\"\n      }, {\n        day: \"SUN\",\n        hours: \"08:00 - 18:00\"\n      }],\n      isFetching: false,\n      error: null,\n      successMsg: null\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ServiceAdd, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.prePublish();\n    }\n  }, {\n    key: \"prePublish\",\n    value: function prePublish() {\n      var _this2 = this;\n\n      var token = this.state.user.token;\n      ServiceItemService.prePublish(token).then(function (response) {\n        _this2.setState({\n          _id: response.data._id\n        });\n      }).catch(function (error) {// console.log(\"error\", error);\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(value) {\n      var _this3 = this;\n\n      var _id = value._id,\n          title = value.title,\n          phone = value.phone,\n          typeServiceId = value.typeServiceId,\n          address = value.address,\n          opened = value.opened; // if (!title) return false;\n      // if (!phone) return false;\n\n      this.setState({\n        _id: _id,\n        title: title,\n        phone: phone,\n        typeServiceId: typeServiceId,\n        address: address,\n        opened: opened,\n        isFetching: true,\n        error: null,\n        successMsg: null\n      });\n      var token = this.state.user.token;\n      var service = {\n        _id: _id,\n        title: title,\n        phone: phone,\n        typeServiceId: typeServiceId,\n        address: address,\n        opened: opened,\n        byAdmin: true\n      };\n      ServiceItemService.updateService(service, token).then(function (response) {\n        if (response.status === true) {\n          var message = \"Success to update the  Service.\";\n\n          _this3.setState({\n            successMsg: message,\n            isFetching: false\n          });\n        } else {\n          _this3.setState({\n            error: \"Erro\",\n            isFetching: false,\n            successMsg: false\n          });\n        }\n      }).catch(function (error) {\n        _this3.setState({\n          error: error,\n          isFetching: false,\n          successMsg: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _id = this.state._id;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"service\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, this.props.loading && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, \"Create service\")), React.createElement(Col, {\n        lg: 5,\n        className: \"mt-lg-3 mt-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144\n        },\n        __self: this\n      }), React.createElement(Col, {\n        lg: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(ServiceForm, {\n        _id: _id,\n        add: true,\n        handleSubmit: this.handleSubmit,\n        error: this.state.error,\n        successMsg: this.state.successMsg,\n        isFetching: this.state.isFetching,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      })), React.createElement(Col, {\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return ServiceAdd;\n}(Component);\n\nexport default connect()(ServiceAdd);","map":{"version":3,"sources":["/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/src/pages/service/ServiceAdd.js"],"names":["React","Component","connect","Row","Col","Card","CardBody","getLoggedInUser","Loader","ServiceForm","ServiceItemService","ServiceAdd","props","state","user","_id","title","phone","typeServiceId","address","opened","day","hours","isFetching","error","successMsg","handleSubmit","bind","prePublish","token","then","response","setState","data","catch","value","service","byAdmin","updateService","status","message","loading"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\n\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport ServiceForm from \"./Form/ServiceForm\";\n\nimport ServiceItemService from \"../../services/ServiceItemService\";\n\nclass ServiceAdd extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: getLoggedInUser(),\n      _id: \"\",\n      title: \"\",\n      phone: \"\",\n      typeServiceId: \"\",\n      address: \"\",\n      opened: [\n        {\n          day: \"MON\",\n          hours: \"08:00 - 18:00\"\n        },\n        {\n          day: \"TUE\",\n          hours: \"08:00 - 18:00\"\n        },\n        {\n          day: \"WED\",\n          hours: \"08:00 - 18:00\"\n        },\n        {\n          day: \"THU\",\n          hours: \"08:00 - 18:00\"\n        },\n        {\n          day: \"FRI\",\n          hours: \"08:00 - 18:00\"\n        },\n        {\n          day: \"SAT\",\n          hours: \"08:00 - 18:00\"\n        },\n        {\n          day: \"SUN\",\n          hours: \"08:00 - 18:00\"\n        }\n      ],\n      isFetching: false,\n      error: null,\n      successMsg: null\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.prePublish();\n  }\n\n  prePublish() {\n    const { token } = this.state.user;\n    ServiceItemService.prePublish(token)\n      .then(response => {\n        this.setState({ _id: response.data._id });\n      })\n      .catch(error => {\n        // console.log(\"error\", error);\n      });\n  }\n\n  handleSubmit(value) {\n    const { _id, title, phone, typeServiceId, address, opened } = value;\n\n    // if (!title) return false;\n    // if (!phone) return false;\n\n    this.setState({\n      _id,\n      title,\n      phone,\n      typeServiceId,\n      address,\n      opened,\n      isFetching: true,\n      error: null,\n      successMsg: null\n    });\n\n    const { token } = this.state.user;\n\n    let service = {\n      _id,\n      title,\n      phone,\n      typeServiceId,\n      address,\n      opened,\n      byAdmin: true\n    };\n\n    ServiceItemService.updateService(service, token)\n      .then(response => {\n        if (response.status === true) {\n          let message = \"Success to update the  Service.\";\n          this.setState({ successMsg: message, isFetching: false });\n        } else {\n          this.setState({\n            error: \"Erro\",\n            isFetching: false,\n            successMsg: false\n          });\n        }\n      })\n      .catch(error => {\n        this.setState({ error: error, isFetching: false, successMsg: false });\n      });\n  }\n\n  render() {\n    const { _id } = this.state;\n    return (\n      <React.Fragment>\n        <div className=\"service\">\n          {this.props.loading && <Loader />}\n          <Row>\n            <Col>\n              <div className=\"page-title-box\">\n                <Row>\n                  <Col lg={7}>\n                    <h4 className=\"page-title\">Create service</h4>\n                  </Col>\n                  <Col lg={5} className=\"mt-lg-3 mt-md-0\"></Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <Col lg={12}>\n              <Card>\n                <CardBody>\n                  <Row>\n                    <Col lg={3} />\n                    <Col lg={6}>\n                      <ServiceForm\n                        _id={_id}\n                        add={true}\n                        handleSubmit={this.handleSubmit}\n                        error={this.state.error}\n                        successMsg={this.state.successMsg}\n                        isFetching={this.state.isFetching}\n                      />\n                    </Col>\n                    <Col lg={3} />\n                  </Row>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(ServiceAdd);\n"]},"metadata":{},"sourceType":"module"}