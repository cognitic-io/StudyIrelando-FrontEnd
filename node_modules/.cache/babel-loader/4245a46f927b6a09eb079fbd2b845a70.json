{"ast":null,"code":"import _classCallCheck from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/src/pages/service-type/ServiceTypeEdit.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport ServiceTypeForm from \"./Form/ServiceTypeForm\";\nimport ServiceTypeService from \"../../services/ServiceTypeService\";\nvar id = \"\";\n\nvar ServiceTypeEdit =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(ServiceTypeEdit, _Component);\n\n  function ServiceTypeEdit(_ref) {\n    var _this;\n\n    var match = _ref.match,\n        props = _ref.props;\n\n    _classCallCheck(this, ServiceTypeEdit);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ServiceTypeEdit).call(this, props));\n    _this.state = {\n      user: getLoggedInUser(),\n      icon: \"\",\n      name: \"\",\n      services: [],\n      isFetching: false,\n      error: null,\n      successMsg: null,\n      isFetchingSub: false,\n      errorSub: null,\n      successMsgSub: null\n    };\n    id = match.params.id;\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(ServiceTypeEdit, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getServiceType();\n    }\n  }, {\n    key: \"getServiceType\",\n    value: function getServiceType() {\n      var _this2 = this;\n\n      var token = this.state.user.token;\n      ServiceTypeService.getServiceType(id, token).then(function (response) {\n        _this2.setState({\n          name: response.data.name,\n          icon: response.data.icon\n        });\n      }).catch(function (error) {\n        _this2.setState({\n          error: error,\n          isFetching: false\n        });\n      });\n    }\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(value) {\n      var _this3 = this;\n\n      var name = value.name,\n          icon = value.icon;\n      if (!name) return false;\n      if (!icon) return false;\n      this.setState({\n        name: name,\n        icon: icon,\n        isFetching: true,\n        error: null,\n        successMsg: null\n      });\n      var token = this.state.user.token;\n      var serviceType = {\n        name: name,\n        icon: icon,\n        _id: id\n      };\n      ServiceTypeService.updateServiceType(serviceType, token).then(function (response) {\n        if (response.status === true) {\n          var message = \"Success to update the service type.\";\n\n          _this3.setState({\n            successMsg: message,\n            isFetching: false\n          });\n        } else {\n          _this3.setState({\n            error: \"Erro\",\n            isFetching: false,\n            successMsg: false\n          });\n        }\n      }).catch(function (error) {\n        _this3.setState({\n          error: error,\n          isFetching: false,\n          successMsg: false\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          name = _this$state.name,\n          icon = _this$state.icon;\n      return React.createElement(React.Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"service-type\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, this.props.loading && React.createElement(Loader, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"page-title-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 7,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        className: \"page-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Edit Service Type\")), React.createElement(Col, {\n        lg: 5,\n        className: \"mt-lg-3 mt-md-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }))))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(Card, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Col, {\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }), React.createElement(Col, {\n        lg: 6,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(ServiceTypeForm, {\n        edit: true,\n        handleSubmit: this.handleSubmit,\n        error: this.state.error,\n        successMsg: this.state.successMsg,\n        isFetching: this.state.isFetching,\n        name: name,\n        icon: icon,\n        id: id // services={services}\n        // addService={this.addService}\n        // getServices={this.getServices}\n        ,\n        errorSub: this.state.errorSub,\n        successMsgSub: this.state.successMsgSub,\n        isFetchingSub: this.state.isFetchingSub,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      })), React.createElement(Col, {\n        lg: 3,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }))))))));\n    }\n  }]);\n\n  return ServiceTypeEdit;\n}(Component);\n\nexport default connect()(ServiceTypeEdit);","map":{"version":3,"sources":["/Users/Raian/Documents/Cognitic/StudyIrelando-FrontEnd/src/pages/service-type/ServiceTypeEdit.js"],"names":["React","Component","connect","Row","Col","Card","CardBody","getLoggedInUser","Loader","ServiceTypeForm","ServiceTypeService","id","ServiceTypeEdit","match","props","state","user","icon","name","services","isFetching","error","successMsg","isFetchingSub","errorSub","successMsgSub","params","handleSubmit","bind","getServiceType","token","then","response","setState","data","catch","value","serviceType","_id","updateServiceType","status","message","loading"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,IAAnB,EAAyBC,QAAzB,QAAyC,YAAzC;AAEA,SAASC,eAAT,QAAgC,yBAAhC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,eAAP,MAA4B,wBAA5B;AAEA,OAAOC,kBAAP,MAA+B,mCAA/B;AAEA,IAAIC,EAAE,GAAG,EAAT;;IAEMC,e;;;;;AACJ,iCAA8B;AAAA;;AAAA,QAAhBC,KAAgB,QAAhBA,KAAgB;AAAA,QAATC,KAAS,QAATA,KAAS;;AAAA;;AAC5B,yFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACXC,MAAAA,IAAI,EAAET,eAAe,EADV;AAEXU,MAAAA,IAAI,EAAE,EAFK;AAGXC,MAAAA,IAAI,EAAE,EAHK;AAIXC,MAAAA,QAAQ,EAAE,EAJC;AAKXC,MAAAA,UAAU,EAAE,KALD;AAMXC,MAAAA,KAAK,EAAE,IANI;AAOXC,MAAAA,UAAU,EAAE,IAPD;AAQXC,MAAAA,aAAa,EAAE,KARJ;AASXC,MAAAA,QAAQ,EAAE,IATC;AAUXC,MAAAA,aAAa,EAAE;AAVJ,KAAb;AAYAd,IAAAA,EAAE,GAAGE,KAAK,CAACa,MAAN,CAAaf,EAAlB;AACA,UAAKgB,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AAf4B;AAgB7B;;;;wCAEmB;AAClB,WAAKC,cAAL;AACD;;;qCAEgB;AAAA;;AAAA,UACPC,KADO,GACG,KAAKf,KAAL,CAAWC,IADd,CACPc,KADO;AAEfpB,MAAAA,kBAAkB,CAACmB,cAAnB,CAAkClB,EAAlC,EAAsCmB,KAAtC,EACGC,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,QAAA,MAAI,CAACC,QAAL,CAAc;AAAEf,UAAAA,IAAI,EAAEc,QAAQ,CAACE,IAAT,CAAchB,IAAtB;AAA4BD,UAAAA,IAAI,EAAEe,QAAQ,CAACE,IAAT,CAAcjB;AAAhD,SAAd;AACD,OAHH,EAIGkB,KAJH,CAIS,UAAAd,KAAK,EAAI;AACd,QAAA,MAAI,CAACY,QAAL,CAAc;AAAEZ,UAAAA,KAAK,EAAEA,KAAT;AAAgBD,UAAAA,UAAU,EAAE;AAA5B,SAAd;AACD,OANH;AAOD;;;iCAEYgB,K,EAAO;AAAA;;AAAA,UACVlB,IADU,GACKkB,KADL,CACVlB,IADU;AAAA,UACJD,IADI,GACKmB,KADL,CACJnB,IADI;AAGlB,UAAI,CAACC,IAAL,EAAW,OAAO,KAAP;AACX,UAAI,CAACD,IAAL,EAAW,OAAO,KAAP;AAEX,WAAKgB,QAAL,CAAc;AACZf,QAAAA,IAAI,EAAJA,IADY;AAEZD,QAAAA,IAAI,EAAJA,IAFY;AAGZG,QAAAA,UAAU,EAAE,IAHA;AAIZC,QAAAA,KAAK,EAAE,IAJK;AAKZC,QAAAA,UAAU,EAAE;AALA,OAAd;AANkB,UAcVQ,KAdU,GAcA,KAAKf,KAAL,CAAWC,IAdX,CAcVc,KAdU;AAgBlB,UAAIO,WAAW,GAAG;AAChBnB,QAAAA,IAAI,EAAJA,IADgB;AAEhBD,QAAAA,IAAI,EAAJA,IAFgB;AAGhBqB,QAAAA,GAAG,EAAE3B;AAHW,OAAlB;AAMAD,MAAAA,kBAAkB,CAAC6B,iBAAnB,CAAqCF,WAArC,EAAkDP,KAAlD,EACGC,IADH,CACQ,UAAAC,QAAQ,EAAI;AAChB,YAAIA,QAAQ,CAACQ,MAAT,KAAoB,IAAxB,EAA8B;AAC5B,cAAIC,OAAO,GAAG,qCAAd;;AACA,UAAA,MAAI,CAACR,QAAL,CAAc;AAAEX,YAAAA,UAAU,EAAEmB,OAAd;AAAuBrB,YAAAA,UAAU,EAAE;AAAnC,WAAd;AACD,SAHD,MAGO;AACL,UAAA,MAAI,CAACa,QAAL,CAAc;AACZZ,YAAAA,KAAK,EAAE,MADK;AAEZD,YAAAA,UAAU,EAAE,KAFA;AAGZE,YAAAA,UAAU,EAAE;AAHA,WAAd;AAKD;AACF,OAZH,EAaGa,KAbH,CAaS,UAAAd,KAAK,EAAI;AACd,QAAA,MAAI,CAACY,QAAL,CAAc;AAAEZ,UAAAA,KAAK,EAAEA,KAAT;AAAgBD,UAAAA,UAAU,EAAE,KAA5B;AAAmCE,UAAAA,UAAU,EAAE;AAA/C,SAAd;AACD,OAfH;AAgBD;;;6BAEQ;AAAA,wBACgB,KAAKP,KADrB;AAAA,UACCG,IADD,eACCA,IADD;AAAA,UACOD,IADP,eACOA,IADP;AAEP,aACE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKH,KAAL,CAAW4B,OAAX,IAAsB,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADzB,EAEE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAI,QAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BADF,CADF,EAIE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAY,QAAA,SAAS,EAAC,iBAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF,CADF,CADF,CAFF,EAcE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,eAAD;AACE,QAAA,IAAI,EAAE,IADR;AAEE,QAAA,YAAY,EAAE,KAAKf,YAFrB;AAGE,QAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWM,KAHpB;AAIE,QAAA,UAAU,EAAE,KAAKN,KAAL,CAAWO,UAJzB;AAKE,QAAA,UAAU,EAAE,KAAKP,KAAL,CAAWK,UALzB;AAME,QAAA,IAAI,EAAEF,IANR;AAOE,QAAA,IAAI,EAAED,IAPR;AAQE,QAAA,EAAE,EAAEN,EARN,CASE;AACA;AACA;AAXF;AAYE,QAAA,QAAQ,EAAE,KAAKI,KAAL,CAAWS,QAZvB;AAaE,QAAA,aAAa,EAAE,KAAKT,KAAL,CAAWU,aAb5B;AAcE,QAAA,aAAa,EAAE,KAAKV,KAAL,CAAWQ,aAd5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAFF,EAoBE,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAE,CAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApBF,CADF,CADF,CADF,CADF,CAdF,CADF,CADF;AAiDD;;;;EA7H2BtB,S;;AAgI9B,eAAeC,OAAO,GAAGU,eAAH,CAAtB","sourcesContent":["import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Row, Col, Card, CardBody } from \"reactstrap\";\n\nimport { getLoggedInUser } from \"../../helpers/authUtils\";\nimport Loader from \"../../components/Loader\";\nimport ServiceTypeForm from \"./Form/ServiceTypeForm\";\n\nimport ServiceTypeService from \"../../services/ServiceTypeService\";\n\nlet id = \"\";\n\nclass ServiceTypeEdit extends Component {\n  constructor({ match, props }) {\n    super(props);\n    this.state = {\n      user: getLoggedInUser(),\n      icon: \"\",\n      name: \"\",\n      services: [],\n      isFetching: false,\n      error: null,\n      successMsg: null,\n      isFetchingSub: false,\n      errorSub: null,\n      successMsgSub: null\n    };\n    id = match.params.id;\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentDidMount() {\n    this.getServiceType();\n  }\n\n  getServiceType() {\n    const { token } = this.state.user;\n    ServiceTypeService.getServiceType(id, token)\n      .then(response => {\n        this.setState({ name: response.data.name, icon: response.data.icon });\n      })\n      .catch(error => {\n        this.setState({ error: error, isFetching: false });\n      });\n  }\n\n  handleSubmit(value) {\n    const { name, icon } = value;\n\n    if (!name) return false;\n    if (!icon) return false;\n\n    this.setState({\n      name,\n      icon,\n      isFetching: true,\n      error: null,\n      successMsg: null\n    });\n\n    const { token } = this.state.user;\n\n    let serviceType = {\n      name,\n      icon,\n      _id: id\n    };\n\n    ServiceTypeService.updateServiceType(serviceType, token)\n      .then(response => {\n        if (response.status === true) {\n          let message = \"Success to update the service type.\";\n          this.setState({ successMsg: message, isFetching: false });\n        } else {\n          this.setState({\n            error: \"Erro\",\n            isFetching: false,\n            successMsg: false\n          });\n        }\n      })\n      .catch(error => {\n        this.setState({ error: error, isFetching: false, successMsg: false });\n      });\n  }\n\n  render() {\n    const { name, icon } = this.state;\n    return (\n      <React.Fragment>\n        <div className=\"service-type\">\n          {this.props.loading && <Loader />}\n          <Row>\n            <Col>\n              <div className=\"page-title-box\">\n                <Row>\n                  <Col lg={7}>\n                    <h4 className=\"page-title\">Edit Service Type</h4>\n                  </Col>\n                  <Col lg={5} className=\"mt-lg-3 mt-md-0\"></Col>\n                </Row>\n              </div>\n            </Col>\n          </Row>\n          <Row>\n            <Col lg={12}>\n              <Card>\n                <CardBody>\n                  <Row>\n                    <Col lg={3} />\n                    <Col lg={6}>\n                      <ServiceTypeForm\n                        edit={true}\n                        handleSubmit={this.handleSubmit}\n                        error={this.state.error}\n                        successMsg={this.state.successMsg}\n                        isFetching={this.state.isFetching}\n                        name={name}\n                        icon={icon}\n                        id={id}\n                        // services={services}\n                        // addService={this.addService}\n                        // getServices={this.getServices}\n                        errorSub={this.state.errorSub}\n                        successMsgSub={this.state.successMsgSub}\n                        isFetchingSub={this.state.isFetchingSub}\n                      />\n                    </Col>\n                    <Col lg={3} />\n                  </Row>\n                </CardBody>\n              </Card>\n            </Col>\n          </Row>\n        </div>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default connect()(ServiceTypeEdit);\n"]},"metadata":{},"sourceType":"module"}